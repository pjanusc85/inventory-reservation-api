# ============================================================================
# Inventory Reservation API - Environment Variables
# ============================================================================
# Copy this file to .env and fill in your actual values
# Command: cp .env.example .env
# ============================================================================

# ----------------------------------------------------------------------------
# Supabase Configuration
# ----------------------------------------------------------------------------
# Get these from: https://supabase.com/dashboard/project/YOUR_PROJECT/settings/api
# ----------------------------------------------------------------------------

# Your Supabase project URL
# Example: https://abcdefghijklmnop.supabase.co
SUPABASE_URL=your_supabase_url_here

# Supabase anonymous key (safe to expose in frontend)
# Supports both legacy and new key formats:
#   - Legacy: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9... (JWT format)
#   - New (recommended): sb_publishable_... (publishable key)
SUPABASE_ANON_KEY=your_supabase_anon_key_here

# Supabase service role key (KEEP SECRET - has admin privileges)
# Supports both legacy and new key formats:
#   - Legacy: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9... (JWT format)
#   - New (recommended): sb_secret_... (secret key)
# WARNING: This key bypasses Row Level Security. Never expose to clients.
SUPABASE_SERVICE_ROLE_KEY=your_supabase_service_role_key_here

# ----------------------------------------------------------------------------
# Server Configuration
# ----------------------------------------------------------------------------

# Port for local development server
PORT=3000

# Node environment (development, production, test)
NODE_ENV=development

# ----------------------------------------------------------------------------
# Reservation Configuration
# ----------------------------------------------------------------------------

# How long (in minutes) a reservation stays active before expiring
# Default: 10 minutes
# Range: 1-60 minutes recommended
RESERVATION_EXPIRY_MINUTES=10

# ----------------------------------------------------------------------------
# Database Configuration (Advanced - Optional)
# ----------------------------------------------------------------------------

# Maximum number of database connections in the pool
# Default: 10
# Increase for high-traffic scenarios
# DB_POOL_MAX=10

# Minimum number of idle connections to maintain
# Default: 2
# DB_POOL_MIN=2

# Connection timeout in milliseconds
# Default: 30000 (30 seconds)
# DB_CONNECTION_TIMEOUT=30000

# Query timeout in milliseconds
# Default: 10000 (10 seconds)
# DB_QUERY_TIMEOUT=10000

# ----------------------------------------------------------------------------
# Logging Configuration (Optional)
# ----------------------------------------------------------------------------

# Log level: error, warn, info, debug
# Default: info
# LOG_LEVEL=info

# Enable detailed SQL query logging (for debugging)
# Default: false
# Set to true to see all database queries in logs
# LOG_SQL_QUERIES=false

# ----------------------------------------------------------------------------
# CORS Configuration (Optional)
# ----------------------------------------------------------------------------

# Allowed origins for CORS (comma-separated)
# Default: * (all origins)
# Production example: https://yourdomain.com,https://app.yourdomain.com
# ALLOWED_ORIGINS=*

# ----------------------------------------------------------------------------
# Security Configuration (Optional)
# ----------------------------------------------------------------------------

# Enable rate limiting
# Default: false
# RATE_LIMIT_ENABLED=false

# Max requests per window
# Default: 100
# RATE_LIMIT_MAX_REQUESTS=100

# Time window in minutes
# Default: 15
# RATE_LIMIT_WINDOW_MINUTES=15

# ----------------------------------------------------------------------------
# Testing Configuration (Optional)
# ----------------------------------------------------------------------------

# Database URL for testing (separate test database recommended)
# TEST_DATABASE_URL=

# Number of concurrent requests in concurrency tests
# Default: 200
# CONCURRENCY_TEST_REQUESTS=200

# Test item quantity (must be less than concurrent requests)
# Default: 50
# CONCURRENCY_TEST_QUANTITY=50

# ----------------------------------------------------------------------------
# Monitoring & Observability (Future Enhancement)
# ----------------------------------------------------------------------------

# Sentry DSN for error tracking
# SENTRY_DSN=

# New Relic license key
# NEW_RELIC_LICENSE_KEY=

# DataDog API key
# DATADOG_API_KEY=

# ----------------------------------------------------------------------------
# Notes
# ----------------------------------------------------------------------------
# 1. Never commit .env to version control (it's in .gitignore)
# 2. Keep SUPABASE_SERVICE_ROLE_KEY secret - it has admin privileges
# 3. For production, set NODE_ENV=production
# 4. Both legacy (JWT) and new (sb_secret_/sb_publishable_) Supabase keys are supported
#    - New keys are recommended for better security and easier rotation
#    - No code changes needed to switch between key formats
# 5. For Vercel deployment, set these in the Vercel dashboard or via CLI:
#    vercel env add SUPABASE_URL
#    vercel env add SUPABASE_ANON_KEY
#    vercel env add SUPABASE_SERVICE_ROLE_KEY
# ============================================================================
